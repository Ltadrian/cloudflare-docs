---
pcx_content_type: how-to
title: Capture screenshot
sidebar:
  order: 3
---

The `/screenshot` endpoint renders the webpage by processing its HTML and JavaScript, then captures a screenshot of the fully rendered page.

## Basic usage

Sets the HTML content of the page to `Hello World!` and then takes a screenshot. The option `omitBackground` hides the default white background and allows capturing screenshots with transparency.

```bash
curl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/screenshot' \
  -H 'Authorization: Bearer <apiToken>' \
  -H 'Content-Type: application/json' \
  -d '{
    "html": "Hello World!",
    "screenshotOptions": {
      "omitBackground": true
    }
  }' \
  --output "screenshot.webp"
```

## Advanced usage

Navigate to `https://cloudflare.com/`, changing the page size and waiting until there are no active network connections or up to a maximum of `4500ms`. Then take a `fullPage` screenshot.

```bash
curl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/screenshot' \
  -H 'Authorization: Bearer <apiToken>' \
  -H 'Content-Type: application/json' \
  -d '{
    "url": "https://cloudflare.com/",
    "screenshotOptions": {
       "fullPage": true,
      "omitBackground": true,
    },
    "viewport": {
      "width": 1280,
      "height": 720
    },
    "gotoOptions": {
      "waitUntil": "networkidle0",
      "timeout": 45000
    }
  }' \
  --output "advanced-screenshot.webp"
```

## Customize CSS and embed custom JavaScript

```bash
curl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/screenshot' \
  -H 'Authorization: Bearer <apiToken>' \
  -H 'Content-Type: application/json' \
  -d '{
    "url": "https://example.com/",
    "addScriptTag": [
     
      { "content": "document.querySelector(`h1`).innerText = `Hello World!!!`" }
    ],
    "addStyleTag": [
      {
        "content": "div { background: linear-gradient(45deg, #2980b9  , #82e0aa  ); }"
      },
      {
        "url": "https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
      }
    ]
  }' \
  --output "screenshot.webp"
```

## Parameters

- `url` _(string)_ - The webpage URL to take a screenshot of.
- `html` _(string)_ - Instead of a URL, allows rendering custom HTML for the screenshot.
- `screenshotOptions` _(object)_ - Configures the screenshot format and quality.
  - `omitBackground` _(boolean)_ - Removes the default white background when taking a screenshot.
- `viewport` _(object)_ - Sets the browser viewport dimensions for rendering.
  - `width` _(number)_ - Viewport width in pixels.
  - `height` _(number)_ - Viewport height in pixels.
- `gotoOptions` _(object)_ - Configures how and when the page is considered fully loaded.
  - `waitUntil` _(string)_ - Defines when the browser considers navigation complete (`networkidle0`, `domcontentloaded`).
    - `networkidle0` - Waits until there are no more than 0 network connections for at least 500 ms before taking a screenshot.
  - `timeout` _(number)_ - Maximum wait time (in milliseconds) before navigation times out.
- `addScriptTag` _(array of objects)_ - Injects JavaScript code before taking a screenshot.
  - `url` _(string)_ - Loads an external script file before rendering.
  - `content` _(string)_ - Runs inline JavaScript before rendering.
- `addStyleTag` _(array of objects)_ - Injects CSS styles before rendering.
  - `content` _(string)_ - Defines inline CSS rules.
  - `url` _(string)_ - Loads external stylesheets before rendering.
